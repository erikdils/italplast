{"map":{"version":3,"sources":["component---src-pages-search-js-14ec856244e4e9a318e3.js"],"names":["window","push","Bxyr","module","__webpack_exports__","__webpack_require__","r","d","search_query","react","react_default","n","gatsby_plugin_react_i18next","layout","seo","gatsby_image","gatsby_image_default","slug","useLanguage","Search_ResultsItem","_ref","item","langToggle","a","createElement","className","to","Object","fluid","image","childImageSharp","titolo_en","titolo_bg","titolo_ge","titolo_it","search","search_default","SearchBar","value","suggestions","onChange","loading","setLoading","_useState","q","setQ","throttledVal","wait","throttledValue","setThrottledValue","lastCall","Date","now","timer","setTimeout","current","clearTimeout","useThrottle_useThrottle","Fragment","type","e","target","onClick","length","map","index","key","Search_SearchSection","dataSearch","language","i18n","query","setQuery","_useState2","_useState3","setSuggestions","val","filter","toLowerCase","indexOf","data","t","title","allStrapiCatalog","nodes","M63J","exports","React","Search","props","fill","defaultProps","width","height","viewBox","default"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Bxyr:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"query\",(function(){return h}));var n=a(\"q1tI\"),r=a.n(n),c=a(\"WlC/\"),l=a(\"Bl7J\"),o=a(\"vrFN\"),s=(a(\"5jen\"),a(\"9eSz\")),i=a.n(s),u=a(\"e4VM\"),m=a(\"3q/y\"),f=function(e){var t=e.item,a=m.a;return r.a.createElement(c.Link,{className:\"serach-link\",to:Object(u.c)(t.slug)},r.a.createElement(i.a,{className:\"serach-prev\",fluid:t.image.childImageSharp.fluid}),r.a.createElement(\"span\",{className:\"serch-title\"},a(t.titolo_en,t.titolo_bg,t.titolo_ge,t.titolo_it)))},d=a(\"M63J\"),g=a.n(d);function E(e){e.value;var t=e.suggestions,a=e.onChange,l=e.loading,o=e.setLoading,s=Object(n.useState)(\"\"),i=s[0],u=s[1],m=function(e,t){var a=Object(n.useState)(e),r=a[0],c=a[1],l=Object(n.useRef)(Date.now());return Object(n.useEffect)((function(){var a=setTimeout((function(){Date.now()-l.current>=t&&(c(e),l.current=Date.now())}),t-(Date.now()-l.current));return function(){clearTimeout(a)}}),[e,t]),r}(i,100);Object(n.useEffect)((function(){a(m)}),[m,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"search-bar\"},r.a.createElement(\"div\",{className:\"search-bar__wrapper\"},r.a.createElement(\"i\",{className:\"search-icon\"},r.a.createElement(g.a,null)),r.a.createElement(\"input\",{type:\"text\",value:i,onChange:function(e){u(e.target.value),o(!0)}}),r.a.createElement(\"div\",{className:\"right-side\"},i&&r.a.createElement(\"button\",{className:\"clear-search\",onClick:function(){u(\"\"),l&&o(!1)}},\"X\")))),r.a.createElement(\"section\",{className:\"results-section\"},!l&&r.a.createElement(\"div\",{className:\"results-wrapper\"},r.a.createElement(\"p\",{className:\"results-counter\"},\" \",r.a.createElement(c.Trans,null,\"Search\"),\": \",r.a.createElement(\"span\",null,t.length)),t.map((function(e,t){return r.a.createElement(f,{key:t,item:e})})))))}var C=function(e){var t=e.dataSearch,a=Object(n.useContext)(c.I18nContext).i18n.language,l=Object(n.useState)(\"\"),o=l[0],s=l[1],i=Object(n.useState)(!1),u=i[0],m=i[1],f=Object(n.useState)([]),d=f[0],g=f[1];return Object(n.useEffect)((function(){if(\"\"===o)g([]);else{var e=t.filter((function(e){return\"en\"===a?-1!==e.titolo_en.toLowerCase().indexOf(o.toLowerCase()):\"bg\"===a?-1!==e.titolo_bg.toLowerCase().indexOf(o.toLowerCase()):\"de\"===a?-1!==e.titolo_ge.toLowerCase().indexOf(o.toLowerCase()):-1!==e.titolo_it.toLowerCase().indexOf(o.toLowerCase())})).map((function(e){return e}));g(e)}m(!1)}),[o,t,a]),r.a.createElement(\"section\",{className:\"search-section\"},r.a.createElement(E,{loading:u,setLoading:m,value:o,onChange:function(e){return s(e)},suggestions:d}))},h=(t.default=function(e){var t=e.data,a=Object(c.useTranslation)().t;return r.a.createElement(l.a,null,r.a.createElement(o.a,{title:a(\"Home\")}),r.a.createElement(C,{dataSearch:t.allStrapiCatalog.nodes}))},\"3884677129\")},M63J:function(e,t,a){var n=a(\"q1tI\");function r(e){return n.createElement(\"svg\",e,n.createElement(\"path\",{d:\"M12.6266 11.5128L16 14.8855L14.8855 16L11.5128 12.6266C10.2579 13.6325 8.69706 14.1797 7.08871 14.1774C3.17574 14.1774 0 11.0017 0 7.08871C0 3.17574 3.17574 0 7.08871 0C11.0017 0 14.1774 3.17574 14.1774 7.08871C14.1797 8.69706 13.6325 10.2579 12.6266 11.5128ZM11.0466 10.9284C12.0462 9.90047 12.6044 8.52254 12.6021 7.08871C12.6021 4.04214 10.1345 1.57527 7.08871 1.57527C4.04214 1.57527 1.57527 4.04214 1.57527 7.08871C1.57527 10.1345 4.04214 12.6021 7.08871 12.6021C8.52254 12.6044 9.90047 12.0462 10.9284 11.0466L11.0466 10.9284Z\",fill:\"#BFD4F5\"}))}r.defaultProps={width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\"},e.exports=r,r.default=r}}]);","extractedComments":[]}